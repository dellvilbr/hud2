-----------------------------------------------------------------------------------------------------------------------------------------
-- kadu
-----------------------------------------------------------------------------------------------------------------------------------------
local Tunnel = module("vrp","lib/Tunnel")
-----------------------------------------------------------------------------------------------------------------------------------------
-- CONNECTION
-----------------------------------------------------------------------------------------------------------------------------------------
Stars = {}
Tunnel.bindInterface("request",Stars)
-----------------------------------------------------------------------------------------------------------------------------------------
-- VARIABLES
-----------------------------------------------------------------------------------------------------------------------------------------
local Active = false
local Results = false
local Seconds = GetGameTimer()
-----------------------------------------------------------------------------------------------------------------------------------------
-- FUNCTION
-----------------------------------------------------------------------------------------------------------------------------------------
function Stars.Function(Title,Message)
	if Active then
		return false
	end

	SendNUIMessage({  action = "setRequest", data = {visible = true, title = "CONVITE", text = Title} })
	Seconds = GetGameTimer() + 15000
	Active = true

	while Active do
		if GetGameTimer() >= Seconds then
			SendNUIMessage({  action = "setRequest", data = {visible = false, title = "CONVITE", text = ""} })
			Results = false
			Active = false
		end

		Wait(1)
	end

	return Results
end
-----------------------------------------------------------------------------------------------------------------------------------------
-- Y
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterCommand("Y",function()
	if Active then
		SendNUIMessage({  action = "setRequest", data = {visible = false, title = "CONVITE", text = ""} })
		Results = true
		Active = false
	end
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- U
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterCommand("U",function()
	if Active then
			SendNUIMessage({  action = "setRequest", data = {visible = false, title = "CONVITE", text = ""} })
		Results = false
		Active = false
	end
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- KEYMAPPING
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterKeyMapping("Y","Aceitar requisições.","keyboard","Y")
RegisterKeyMapping("U","Rejeitar requisições.","keyboard","U")